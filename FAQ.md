<!-- ูุณุฎูู Markdown ุจุฑุง ููุงุด ุฏุฑ GitHub. ููุท ุฏุฑ ฺูุฏ ุจุฎุด ุงุฒ HTML ุจุฑุง ุฑุงุณุชโฺู/ุฌูุชโุฏู ุงุณุชูุงุฏู ุดุฏู ุงุณุช. -->

# ุณูุงูุงุช ูุชุฏุงูู โ ูุจโุณุฑูุณโูุง ูพูู ูพุงูฺฉ ุงููุช


> ุฑุงูููุง ฺฉูุชุงูุ ฺฉุงุฑุจุฑุฏ ู ุญุฑููโุง ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู ู ูุฏุฑุงู ูุญุตูู. ูููโฺุฒ ูุงุฑุณ ู ุฑุงุณุชโุจูโฺูพ ๐

> **ุชูุฌู ุจู ุฌูุช ูุชู**: ุจุดุชุฑ ุจุฎุดโูุง ุจุง Markdown ุนุงุฏ ููุดุชู ุดุฏูโุงูุฏ ู ูุฑูุฑฺฏุฑูุง ูุนูููุงู ูุงุฑุณ ุฑุง ุฑุงุณุชโุจูโฺูพ ููุงุด ูโุฏููุฏ. ุจุฑุง ฺูุฏ ููุฑุฏ ุฎุงุต (ูุงููุฏ ุชฺฉูโฺฉุฏูุง) ุงุฒ HTML ุณุงุฏู ุฌูุช ุชุนู ุฌูุช ููุงุด ุงุณุชูุงุฏู ุดุฏู ุงุณุช.

---

## ููุฑุณุช ุณุฑุน

* [ฑ) ุงุญุฑุงุฒ ููุช ู ฺฉูุฏูุง](#ฑ-ุงุญุฑุงุฒ-ููุช-ู-ฺฉูุฏูุง)
* [ฒ) ุงุฑุณุงู ูพุงูฺฉ](#ฒ-ุงุฑุณุงู-ูพุงูฺฉ)
* [ณ) ฺฏุฒุงุฑุด ุชุญูู (DLR) ู ูุถุนุชโูุง](#ณ-ฺฏุฒุงุฑุด-ุชุญูู-dlr-ู-ูุถุนุชโูุง)
* [ด) ุฏุฑุงูุช ูพุงู ู ูุจโููฺฉ](#ด-ุฏุฑุงูุช-ูพุงู-ู-ูุจโููฺฉ)
* [ต) ุดูุงุฑู/ุฎุท ุงุฎุชุตุงุต](#ต-ุดูุงุฑูุฎุท-ุงุฎุชุตุงุต)
* [ถ) ูุฎุงุทุจู ู ฺฏุฑููโูุง](#ถ-ูุฎุงุทุจู-ู-ฺฏุฑููโูุง)
* [ท) ุณูููโูุงุ ุฑุชโููุช ู ุฎุทุงูุง](#ท-ุณูููโูุง-ุฑุชโููุช-ู-ุฎุทุงูุง)
* [ธ) ูุฒูู ู ุตูุฑุชโุญุณุงุจ](#ธ-ูุฒูู-ู-ุตูุฑุชโุญุณุงุจ)
* [น) ุงููุช ู ุฑุนุงุช ููุงูู](#น-ุงููุช-ู-ุฑุนุงุช-ููุงูู)
* [ฑฐ) ุนุจโุงุจ ุณุฑุน](#ฑฐ-ุนุจโุงุจ-ุณุฑุน)
* [ฑฑ) ูููููโฺฉุฏูุง ฺฉูุชุงู](#ฑฑ-ูููููโฺฉุฏูุง-ฺฉูุชุงู)

---

## ฑ) ุงุญุฑุงุฒ ููุช ู ฺฉูุฏูุง

### ฺุทูุฑ ุจู API ุงููุช ุงุญุฑุงุฒ ููุช ฺฉููุ

ุงุฒ **Bearer Token** ุฏุฑ ูุฏุฑ `Authorization` ุงุณุชูุงุฏู ฺฉูุฏ:

<div dir="ltr">

```bash
curl -X GET https://api.amoot-sms.example.com/v1/profile \
  -H "Authorization: Bearer <YOUR_API_KEY>"
```

</div>

> โน๏ธ **ูฺฉุชู ุงููุช:** ฺฉูุฏ ุฑุง ููุท ุฏุฑ ุณูุช ุณุฑูุฑ ูฺฏูุฏุงุฑ ฺฉูุฏ. ูุฑุงุฑ ุฏุงุฏู ุฏุฑ ูุฑุงูุชโุงูุฏ ุฑุณฺฉ ุงูุดุง ุฏุงุฑุฏ.

### ุชูุงูุช ฺฉูุฏูุง ุชุณุช ู ุนููุงุช ฺุณุชุ

ฺฉูุฏ **ุชุณุช** ูพุงู ูุงูุน ุงุฑุณุงู ููโฺฉูุฏ ู ุจุฑุง ุชูุณุนู/QA ุงุณุชุ ฺฉูุฏ **ุนููุงุช** ุจุฑุง ุชุฑุงูฺฉ Production ุงุณุช. ููฺฉู ุงุณุช **Rate Limit** ูุชูุงูุช ุจุงุดุฏ.

### ุงุญุฑุงุฒ ููุช ูุจุชู ุจุฑ IP ูู ุฏุงุฑุฏุ

ุจููุ ูโุชูุงูุฏ IPูุง ูุฌุงุฒ ุฑุง ุฏุฑ ูพูู ุงุถุงูู ฺฉูุฏ ุชุง ุฏุฑุฎูุงุณุชโูุง ููุท ุงุฒ ุขูโูุง ูพุฐุฑูุชู ุดููุฏ. ุงู ูุงุจูุช **ูฺฉูู ุชูฺฉู** ุงุณุช ู ุฌุงฺฏุฒู ุขู ูุณุช.

---

## ฒ) ุงุฑุณุงู ูพุงูฺฉ

### ุณุงุฏูโุชุฑู ุฑูุด ุงุฑุณุงู ฺฉ ูพุงูฺฉ ุชฺฉ ฺุณุชุ

<div dir="ltr">

```bash
curl -X POST https://api.amoot-sms.example.com/v1/messages \
  -H "Authorization: Bearer <API_KEY>" \
  -H "Content-Type: application/json" \
  -d '{
    "from": "3000XXXX",
    "to":   ["98912XXXXXXX"],
    "text": "ฺฉุฏ ุชุงุฏ ุดูุง: 123456"
  }'
```

</div>

ูพุงุณุฎ ููููู:

<div dir="ltr">

```json
{
  "message_id": "msg_7x8r12",
  "status": "queued",
  "parts": 1,
  "encoding": "gsm7"
}
```

</div>

### ุงุฑุณุงู ุงูุจูู/ฺฏุฑูู ฺุทูุฑ ุงูุฌุงู ูโุดูุฏุ

ุจุง ุงุฑุณุงู ุขุฑุงูู ุดูุงุฑูโูุง ุง ุงุณุชูุงุฏู ุงุฒ ุดูุงุณูู ฺฏุฑูู ูุฎุงุทุจู:

<div dir="ltr">

```json
{
  "from": "3000XXXX",
  "to": ["98912...", "98910...", "98935..."],
  "text": "ูุฑูุด ูฺู ููุท ุงูุฑูุฒ!"
}
```

</div>

> โ **ุจูููโุณุงุฒ:** ุจุฑุง **ุจุด ุงุฒ ตูุฒุงุฑ** ุดูุงุฑู ุงุฒ ุขูพููุฏ ูุงู/Job Queue ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ุตูโุจูุฏ ุจููู ุดูุฏ.

### ูพุงูฺฉโูุง ุทููุงู ู ููฺฉุฏ ฺุทูุฑ ูุญุงุณุจู ูโุดููุฏุ

ูพุงูฺฉ ุจุง ฺฉุงุฑุงฺฉุชุฑูุง ูุงุฑุณ/ุงููุฌ ุจุง **UTFโ16** ุงุฑุณุงู ูโุดูุฏ. ุขุณุชุงููู ูุทุนูโูุง:

* **GSMโ7:** 160 ฺฉุงุฑุงฺฉุชุฑ *(ูุชุตู: 153)*
* **Unicode:** 70 ฺฉุงุฑุงฺฉุชุฑ *(ูุชุตู: 67)*

---

## ณ) ฺฏุฒุงุฑุด ุชุญูู (DLR) ู ูุถุนุชโูุง

### ูุถุนุชโูุง ููฺฉู ูพุงู ฺุณุชุ

* **queued** โ ุฏุฑ ุตู ุงุฑุณุงู
* **sent** โ ุจู ุงูพุฑุงุชูุฑ ุงุฑุณุงู ุดุฏ
* **delivered** โ ุชุญูู ุจู ฺฏูุด
* **failed** โ ุดฺฉุณุช ุฎูุฑุฏู
* **expired** โ ุฒูุงูโุณูพุฑ
* **rejected** โ ุฑุฏ ุชูุณุท ุงูพุฑุงุชูุฑ/ููุชุฑ

ุงุณุชุนูุงู ูุถุนุช:

<div dir="ltr">

```bash
curl -H "Authorization: Bearer <API_KEY>" \
https://api.amoot-sms.example.com/v1/messages/msg_7x8r12
```

</div>

---

## ด) ุฏุฑุงูุช ูพุงู ู ูุจโููฺฉ

### ฺุทูุฑ ูุจโููฺฉ ุฏุฑุงูุช DLR/Inbox ุชูุธู ฺฉููุ

ุฏุฑ ูพูู ูุณุฑ ูุจโููฺฉ ุฑุง ุซุจุช ฺฉูุฏ. ุณุงุฎุชุงุฑ ูููููู POST:

<div dir="ltr">

```json
{
  "event": "dlr",
  "message_id": "msg_7x8r12",
  "status": "delivered",
  "to": "98912XXXXXXX",
  "timestamp": "2025-10-26T08:15:30Z",
  "signature": "hmac-sha256=..."
}
```

</div>

> ๐ **ุงููุช:** ูุฏุฑ ุงูุถุง (HMAC) ุฑุง ุจุง **ฺฉูุฏ ูุจโููฺฉ** ุงุนุชุจุงุฑุณูุฌ ฺฉูุฏ.

### ุขุง ุฏุฑุงูุช ูพุงู ูพุงุณุฎ ฺฉุงุฑุจุฑ (MO) ูพุดุชุจุงู ูโุดูุฏุ

ุจููุ ุฑูุฏุงุฏ `mo` ุจุง ููุฏูุง `from`ุ `to`ุ `text` ุงุฑุณุงู ูโุดูุฏ.

---

## ต) ุดูุงุฑู/ุฎุท ุงุฎุชุตุงุต

### ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุฎุท ุงุฎุชุตุงุต ฺู ูุฏุงุฑฺฉ ูุงุฒู ุงุณุชุ

* ุดุฑฺฉุชโูุง: **ุฑูุฒูุงูู ุฑุณูุ ุดูุงุณู ููุ ุชุนูุฏูุงููู ูุญุชูุง**
* ุงุดุฎุงุต: **ฺฉุงุฑุช ูู ู ุชุนูุฏูุงูู**

> โฑ๏ธ ุฒูุงู ูุนุงูโุณุงุฒ ุจุณุชู ุจู ุงูพุฑุงุชูุฑ ูุชูุงูุช ุงุณุช.

### ุงุฑุณุงู ุฑู ุจูฺฉโูุณุช (NDNC) ููฺฉู ุงุณุชุ

ุจุฑุง ูพุงูโูุง **ุฎุฏูุงุช/OTP** ุจุง ุงุญุฑุงุฒ ุดุฑุงุท ยซุณุฑูุณ ุฎุฏูุงุชยป ุงูฺฉุงูโูพุฐุฑ ุงุณุชุ **ุชุจูุบุงุช** ุฑู ุจูฺฉโูุณุช ูุณุฏูุฏ ูโุดูุฏ.

---

## ถ) ูุฎุงุทุจู ู ฺฏุฑููโูุง

### ุงุถุงููโฺฉุฑุฏู ูุฎุงุทุจ ุงุฒ ุทุฑู API ฺฺฏููู ุงุณุชุ

<div dir="ltr">

```bash
curl -X POST https://api.amoot-sms.example.com/v1/contacts \
  -H "Authorization: Bearer <API_KEY>" -H "Content-Type: application/json" \
  -d '{"name":"ุนู","phone":"98912XXXXXXX","groups":["vip","tehran"]}'
```

</div>

---

## ท) ุณูููโูุงุ ุฑุชโููุช ู ุฎุทุงูุง

### ูุญุฏูุฏุช ูุฑุฎ ุฏุฑุฎูุงุณุชโูุง (Rate Limit) ฺุณุชุ

ูููููู ุณุฑุจุฑฺฏโูุง:

<div dir="ltr">

```
X-RateLimit-Limit: 60
X-RateLimit-Remaining: 42
X-RateLimit-Reset: 173
```

</div>

> โ๏ธ ุงฺฏุฑ **429** ุฏุฑุงูุช ฺฉุฑุฏุฏุ ุงุฒ ุตูโุจูุฏ ุจุง **Backoff ููุง** ุงุณุชูุงุฏู ฺฉูุฏ.

### ฺฉุฏูุง ุฎุทุง ุฑุงุฌ ฺฉุฏุงูโุงูุฏุ

|  ฺฉุฏ | ูุนูุง               | ุฑุงูโุญู ุณุฑุน                           |
| --: | ------------------ | ------------------------------------- |
| 400 | ูุฑูุฏ ูุงูุนุชุจุฑ      | ุงุณฺฉูุง ู ุงูุฒุงูุงุช ููุฏูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ |
| 401 | ุชูฺฉู ูุงูุนุชุจุฑ/ูููุถ | ุชูฺฉู ุฑุง ููุณุงุฒ ุง ุตุญุญ ุงุฑุณุงู ฺฉูุฏ     |
| 403 | ุฏุณุชุฑุณ ูุฏุงุฑุฏ      | ุณุทุญ ุฏุณุชุฑุณ/ุขโูพ ูุฌุงุฒ ุฑุง ฺฺฉ ฺฉูุฏ      |
| 404 | ุดุก ุงูุช ูุดุฏ       | ุดูุงุณูู ูพุงู/ููุจุน ุฑุง ุจุฑุฑุณ ฺฉูุฏ        |
| 429 | Rate Limit         | Backoff ู ุชุฌูุน ุฏุฑุฎูุงุณุช               |
| 5xx | ุฎุทุง ุณุฑูุฑ          | ุชูุงุด ูุฌุฏุฏ ูุจุชู ุจุฑ Jitter             |

---

## ธ) ูุฒูู ู ุตูุฑุชโุญุณุงุจ

### ูุฒูู ูพุงูโูุง ฺฺฏููู ูุญุงุณุจู ูโุดูุฏุ

ุจุฑ ุงุณุงุณ **ุงูพุฑุงุชูุฑุ ููุน ูพุงู (ุฎุฏูุงุช/ุชุจูุบุงุช)ุ ุชุนุฏุงุฏ ูุทุนุงุช ู ููุตุฏ ุจูโุงูููู**. ูุฒููู ูุฑ ูุทุนู ุฌุฏุงฺฏุงูู ูุญุงุณุจู ูโุดูุฏ.

### ุขุง ฺฏุฒุงุฑุด ูุงูุงุช/ุตูุฑุชุญุณุงุจ ูุงุจู ุฏุฑุงูุช ุงุฒ API ุงุณุชุ

ุจููุ ุงุฒ ูุณุฑ `/v1/billing/invoices` ุจุง ููุชุฑ ุชุงุฑุฎ ุงุณุชูุงุฏู ฺฉูุฏ.

---

## น) ุงููุช ู ุฑุนุงุช ููุงูู

### ฺฺฏููู ุงุฒ ุฏุงุฏูโูุง ุญูุงุธุช ฺฉููุ

* ูุนุงูุณุงุฒ **ูุญุฏูุฏุช IP**ุ **ุฏูุฑุงูโฺฉูุฏ (Key Rotation)** ู **ุญุฏุงูู ุฏุณุชุฑุณ**
* ุฐุฎุฑูโุณุงุฒ ุงูู ูุงฺฏโูุง ุจุฏูู **ูุชู ฺฉุงูู ูพุงูโูุง ุญุณุงุณ**
* **ุงุนุชุจุงุฑุณูุฌ ุงูุถุง ูุจโููฺฉ** ู ุงุณุชูุงุฏู ุงุฒ **HTTPS**

### ููุงูู ูุญุชูุง ูพุงูฺฉ ฺุณุชุ

ูพุงูโูุง ุฎูุงู ูุงููู/ููุงุฑ/ูุญุชูุง ูุงููุงุณุจ ููููุน ุงุณุช. ูพุงู ุชุจูุบุงุช ุจุงุฏ ุงูฺฉุงู **ูุบู ุนุถูุช** ุฏุงุดุชู ุจุงุดุฏ *(ูุซูุงู ยซูุบู11ยป)*.

---

## ฑฐ) ุนุจโุงุจ ุณุฑุน

### ูพุงู ููโุฑุณุฏุ ุงุฒ ฺฉุฌุง ุดุฑูุน ฺฉููุ

1. ุงุนุชุจุงุฑ `from` ู ูุนุงูโุจูุฏู ุฎุท
2. ุนุฏู ููุชุฑ ุชุจูุบุงุช/ุจูฺฉโูุณุช
3. ฺฉุงูุด ูุชู/ููฺฉุฏ ุจุฑุง ฺฉูุชุฑุดุฏู ูุทุนุงุช
4. ุจุฑุฑุณ **DLR** ู ูุงฺฏ ุงูพุฑุงุชูุฑ

### ุฎุทุง 401/403 ุฏุงุฑูุ ฺู ฺฉููุ

* ุชูฺฉู ูุนุชุจุฑ ู ุจุฏูู ูุงุตูู/ูููโููู ุงุดุชุจุงู
* ุนุฏู ุงููุถุง ฺฉูุฏ ุง **ูุญุฏูุฏุช IP**
* ูุนุงูโุจูุฏู **Scope**ูุง ูุงุฒู ุฑู ฺฉูุฏ

---

## ฑฑ) ูููููโฺฉุฏูุง ฺฉูุชุงู

### Node.js (fetch)

<div dir="ltr">

```js
await fetch("https://api.amoot-sms.example.com/v1/messages",{
  method:"POST",
  headers:{ "Authorization":"Bearer <API_KEY>","Content-Type":"application/json" },
  body: JSON.stringify({ from:"3000XXXX", to:["98912XXXXXXX"], text:"Hello" })
});
```

</div>

### Python (requests)

<div dir="ltr">

```py
import requests
r = requests.post("https://api.amoot-sms.example.com/v1/messages",
  headers={"Authorization":"Bearer <API_KEY>"},
  json={"from":"3000XXXX","to":["98912XXXXXXX"],"text":"ุณูุงู"})
print(r.json())
```

</div>

### ูุจโููฺฉ (Express)

<div dir="ltr">

```js
app.post("/webhook/sms", express.json(), (req,res) => {
  const sig = req.header("X-Amoot-Signature");
  // validate(sig, req.body) ...
  console.log(req.body);
  res.sendStatus(200);
});
```

</div>

---

> ุงฺฏุฑ ุจู ููุฑุฏ ุจุฑูุฎูุฑุฏุฏุ ูพุฑุณุด ุฎูุฏ ุฑุง **ุจูโููุฑุงู ุดูุงุณูู ูพุงู ู ุฒูุงู ุงุฑุณุงู** ูุทุฑุญ ฺฉูุฏ ุชุง ุฏูู ุจุฑุฑุณ ุดูุฏ.
